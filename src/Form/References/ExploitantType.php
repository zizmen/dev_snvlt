<?php

namespace App\Form\References;

use App\Entity\References\Cantonnement;
use App\Entity\References\QualiteExploitant;
use App\Entity\References\TypeTransformation;
use App\Entity\References\Exploitant;
use Symfony\Bridge\Doctrine\Form\Type\EntityType;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\Type\CheckboxType;
use Symfony\Component\Form\Extension\Core\Type\DateType;
use Symfony\Component\Form\Extension\Core\Type\NumberType;
use Symfony\Component\Form\Extension\Core\Type\RadioType;
use Symfony\Component\Form\Extension\Core\Type\TextareaType;
use Symfony\Component\Form\Extension\Core\Type\TextType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolver;
use Symfony\Component\Validator\Constraints\NotBlank;

class ExploitantType extends AbstractType
{
    public function buildForm(FormBuilderInterface $builder, array $options): void
    {
        $builder
            ->add('numero_exploitant', NumberType::class, [
                'label'=>'Renseignez le N° de l\'exploitant',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ],
                'constraints' => [
                    new NotBlank([
                        'message' => 'Le numéro exploitant est obligatoire',
                    ])
                ],
                'required'=>true
            ])

            ->add('raison_sociale_exploitant', TextType::class, [
                'label'=>'Raison sociale de l\'exploitant',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ],
                'constraints' => [
                    new NotBlank([
                        'message' => 'Merci de renseignez la raison sociale° de l\'exploitant',
                    ])
                ],
                'required'=>true
            ])

            ->add('sigle', TextType::class, [
                'label'=>'Sigle',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('code_qualite', EntityType::class, [
                'label'=>'Qualité',
                'class'=> QualiteExploitant::class,
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark qualite mt-1 mb-2'
                ],
                'multiple'=>true,
                'expanded'=>false
            ])

            ->add('marteau_exploitant', TextType::class, [
                'label'=>'Marteau',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    'class'=>'form-control alert-light text-dark'
                ],
                'constraints' => [
                    new NotBlank([
                        'message' => 'Le marteau exploitant est obligatoire',
                    ])
                ],
                'required'=>true
            ])

            ->add('tel_exploitant', TextType::class, [
                'label'=>'Téléphone fixe',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])
            ->add('mobile_exploitant', TextType::class, [
                'label'=>'Téléphone mobile',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('email_info', TextType::class, [
                'label'=>'Email de la structure',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('fax', TextType::class, [
                'label'=>'Fax',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])
            ->add('adresse_exploitant', TextType::class, [
                'label'=>'Adresse',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('situation_geographie', TextareaType::class, [
                'label'=>'Localisation',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])
            ->add('datecreation', DateType::class, [
                'label'=>'Date de création',
                'widget' => 'single_text',
                'html5'=>false,
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark datecreation'
                ]
            ])
            ->add('ncc_exploitant', TextType::class, [
                'label'=>'Compte contribuable',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])


            ->add('forme_juridique', TextType::class, [
                'label'=>'Forme juridique',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])
            ->add('capital', NumberType::class, [
                'label'=>'Capital',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('rccim', TextType::class, [
                'label'=>'RCCIM',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])





            ->add('nb_salarie', NumberType::class, [
                'label'=>'Nombre salariés',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('ca', TextType::class, [
                'label'=>'Chiffres d\'afffaires',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('gerant', TextType::class, [
                'label'=>'Gérant',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('personne_ressource', TextType::class, [
                'label'=>'Personne ressource',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('email_personne_ressource', TextType::class, [
                'label'=>'Email de la personne ressource',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

        ->add('mobile_personne_ressource', TextType::class, [
                'label'=>'Mobile de la personne ressource',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('export', CheckboxType::class, [
                'label'=>'Cet exploitant forestier est-il exportateur ?',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark  mt-1 mb-2'
                ]
            ])

            ->add('code_exportateur', TextType::class, [
                'label'=>'Code Exportateur',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark  mt-1 mb-2'
                ],
                'attr'=>[
                    '           class'=>'form-control alert-light text-dark'
                ]
            ])

            ->add('code_cantonnement', EntityType::class, [
                'label'=>'Sélectionnez le cantonnement forestier',
                'label_attr'=>[
                    'class'=>'fw-bold text-dark'
                ],
                'placeholder'=>'',
                'class'=> Cantonnement::class,
                'multiple'=>false,
                'expanded'=>false,
                'attr'=>[
                    '           class'=>'form-control code_cantonnement alert-light text-dark mt-1 mb-2',
                    'placeholder'=>'--Sélectionnez le cantonnement forestier...'
                ],
                'required'=>false
            ])
        ;
    }

    public function configureOptions(OptionsResolver $resolver): void
    {
        $resolver->setDefaults([
            'data_class' => Exploitant::class,
        ]);
    }
}
